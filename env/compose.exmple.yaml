name: "your-container-name"

services:
  postgres:
    image: 'postgres:16.1'
    environment:
      - 'POSTGRES_DB='
      - 'POSTGRES_PASSWORD='
      - 'POSTGRES_USER='
    ports:
      - "5432:5432"
  rabbitmq:
    image: 'rabbitmq:latest'
    environment:
      - 'RABBITMQ_DEFAULT_PASS='
      - 'RABBITMQ_DEFAULT_USER='
    ports:
      - '5672'
  redis:
    image: 'redis:latest'
    ports:
      - '6379'
  grafana:
    build: 'config/grafana'
    ports:
      - '3000:3000'
    volumes:
      - './grafana:/var/lib/grafana'
    environment:
      - 'GF_SECURITY_ADMIN_USER='
      - 'GF_SECURITY_ADMIN_PASSWORD='
    networks:
      monitoring:
        aliases:
          - 'grafana'
  prometheus:
    image: 'prom/prometheus'
    ports:
      - '9090:9090'
    volumes:
      - './config/prometheus.yml:/etc/prometheus/prometheus.yml'
      - './prometheus:/prometheus'
    networks:
      monitoring:
        aliases:
          - 'prometheus'

networks:
  monitoring: